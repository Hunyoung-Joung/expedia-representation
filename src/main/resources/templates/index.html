<!-- 
Copyright@ 2019
-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'index')}">
<body>
    <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.min.js}"></script>
    <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js}"></script>
    <script th:src="@{/js/index.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/
    propertiesList = /*[[${propertiesList}]]*/ 'default';
/*]]>*/
</script>    
    <div class="panel-body">

		<!-- occupancy modal begin -->
		<div class="modal fade" id="person_count_modal" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">部屋の予約</h4>
			        </div>
			        <div class="modal-body">
						<table class="table" style="table-layout: fixed; width: 100%">
					        <tbody>
								<tr style="word-wrap: break-word">
										<td style='word-wrap: break-word' >
											<p>大人</p>
										</td>
										<td style='word-wrap: break-word' >
					  						<div class="input-group input-number-group">
					                      		<span class="input-group-addon">
					                        		<span id="adult_count_increase" class="glyphicon glyphicon-plus"></span>
					                    		</span>
					      						<input type="text" class="form-control" id="adult_count" value="1" readonly>
					                      		<span class="input-group-addon">
					                        		<span id="adult_count_decrease" class="glyphicon glyphicon-minus"></span>
					                    		</span>
					  						</div>
										</td>
								</tr>
								<tr style="word-wrap: break-word">
										<td style='word-wrap: break-word' >
											<p>子供（2~17）歳</p>
										</td>
										<td style='word-wrap: break-word' >
					  						<div class="input-group input-number-group">
					                      		<span class="input-group-addon">
					                        		<span id="child_count_increase" class="glyphicon glyphicon-plus"></span>
					                    		</span>
					      						<input type="text" class="form-control" id="child_count" value="0" readonly>
					                      		<span class="input-group-addon">
					                        		<span id="child_count_decrease" class="glyphicon glyphicon-minus"></span>
					                    		</span>
					  						</div>
										</td>
								</tr>
								<tr style="word-wrap: break-word">
										<td style='word-wrap: break-word' >
											<p>部屋</p>
										</td>
										<td style='word-wrap: break-word' >
					  						<div class="input-group input-number-group">
					                      		<span class="input-group-addon">
					                        		<span id="room_count_increase" class="glyphicon glyphicon-plus"></span>
					                    		</span>
					      						<input type="text" class="form-control" id="room_count" value="1" readonly>
					                      		<span class="input-group-addon">
					                        		<span id="room_count_decrease" class="glyphicon glyphicon-minus"></span>
					                    		</span>
					  						</div>
										</td>								
								</tr>
								<tr style="word-wrap: break-word">
									<td style='word-wrap: break-word' colspan="2">
										<nav class="navbar navbar-default">
										  	<div class="container-fluid">
										    	<ul id="child_ages_field" class="nav navbar-nav"></ul>
										  	</div>
										</nav>	  
									</td>							
								</tr>								
								<tr style="word-wrap: break-word">
									<td style='word-wrap: break-word' colspan="2">
										<nav class="navbar navbar-default">
										  	<div class="container-fluid">
										    	<ul id="child_ages" class="nav navbar-nav"></ul>
										  	</div>
										</nav>	  
									</td>							
								</tr>					
					        </tbody>
						</table>
			        </div>
			        <div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal" id="person_count_modal_confirm">確認</button>
			        </div>
				</div>
			</div>
		</div>   
		<!-- occupancy modal end -->
 		
		<!-- destination modal begin -->
		<div class="modal fade" id="destination_modal" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">目的地</h4>
			        </div>
			        <div class="modal-body">
						<table class="table" style="table-layout: fixed; width: 100%">
					        <tbody>
								<tr style="word-wrap: break-word">
									<td style='word-wrap: break-word' >
									  	<div class="dropdown">
											<div class="input-group input-text-group">
					                      		<span class="input-group-addon">
					                        		<span class="glyphicon glyphicon-map-marker"></span>
					                    		</span>
											    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"> 目的地 
											    	<span class="caret"></span>
											    </button>
											    <ul class="dropdown-menu">
											      	<li><a href="#" rel="2621">New York （ニューヨーク）</a></li>
											      	<li><a href="#" rel="2734">Paris （パリ）</a></li>
											      	<li><a href="#" rel="2114">London （ロンドン）</a></li>
											      	<li><a href="#" rel="178312">Sydney （シドニー）</a></li>
											      	<li><a href="#" rel="3168">Singapore （シンガポール）</a></li>
											      	<li class="divider"></li>
											      	<li ><a href="#" rel="">その他</a></li>
											    </ul>
										  	</div>
										</div>
									</td>
									<td style='word-wrap: break-word' >
										<input id="destination" name="destination" type="text" class="form-control" readonly/>
										<input id="destination_id" name="destination_id" type="hidden" class="form-control" value=""/>
									</td>
								</tr>			
					        </tbody>
						</table>
			        </div>
			        <div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal" id="destination_modal_confirm">閉じる</button>
			        </div>
				</div>
			</div>
		</div>   
		<!-- destination modal end -->
		
 		<form th:action="@{/search}" th:method="post" th:object="${conditionInfo}">
	 		<div class="container-fluid">
			    <div class="row">
			      	<div class="col-sm-2">
  						<div class="input-group date">
                      		<span class="input-group-addon">
                        		<span class="glyphicon glyphicon-calendar"></span>
                    		</span>
      						<input type="text" class="form-control" id="checkin" name="checkin" placeholder="MM/DD/YYYY" alt="begin date">
  						</div>
				      	<script type="text/javascript">
				        	$('#checkin').datepicker();
				    	</script>
		      		</div>
		      		<div class="col-sm-2">
  						<div class="input-group date">
                      		<span class="input-group-addon">
                        		<span class="glyphicon glyphicon-calendar"></span>
                    		</span>
      						<input type="text" class="form-control" id="checkout" name="checkout" placeholder="MM/DD/YYYY">
  						</div>
				      	<script type="text/javascript">
				        	$('#checkout').datepicker();
				    	</script>
		      		</div>
					<div class="col-sm-3">
						<div class="input-group">
                      		<span class="input-group-addon">
                        		<span class="glyphicon glyphicon-map-marker"></span>
                    		</span>
						<!--  <input id="id" name="id" type="text" class="form-control" />-->
							<input id="region" name="region" type="text" class="form-control" data-toggle="modal" data-target="#destination_modal" placeholder="目的地"/>
							<input id="region_id" name="region_id" type="hidden" class="form-control" value=""/>
						</div>
					</div>
					<div class="col-sm-3">
						<div class="input-group">
							<span class="input-group-addon">
	                        		<span class="glyphicon glyphicon-user"></span>
							</span>
							<!-- <input id="password" name="password" type="text" class="form-control" />-->

	                    	<input id="person_count" name="person_count" type="text" class="form-control" data-toggle="modal" data-target="#person_count_modal" placeholder="大1、子0、部屋1" readonly/>
	                    	<input id="occupancy" name="occupancy" type="hidden" class="form-control" value="1"/>

	                    </div>
					</div>

					<div class="col-sm-2"><button id="submit" type="submit" class="btn btn-default"> 検索 </button></div>
				</div>
			</div>
		</form>	
	</div>

	<!-- list -->
	<div class="container users">
		<div class="text-center">
		  	<h4>検索結果</h4>
		</div>
		<div class="panel panel-default text-center" style="width:auto;" >
			<div class="panel-body">
				<div class="container-fluid">
					<div class="row">
					    <div class="col-sm-4" >設定及びAPI仕様</div>
					    <div class="col-sm-8" >結果</div>
				  	</div>		
					<div class="row">
					    <div class="col-sm-4" >
							<div class="form-group">
							  	<textarea class="form-control rounded-0" rows="10" id="request" name="request" th:text="*{requestModel}"></textarea>
							</div>					    
							<div class="form-group">
							  	<textarea class="form-control rounded-0" rows="10" id="response" name="response" th:text="*{responseModel}"></textarea>
							</div>
						</div>
					    <div class="col-sm-8" >
					    	<div class="form-group">
								<table class="table-responsive">
							        <tbody>
										<tr th:each="properties:${propertiesList}" th:object="${properties}" style="word-wrap: break-word">
											<td style='word-wrap: break-word' th:text="*{name}"></td>
											<td style='word-wrap: break-word' th:text="*{phone}"></td>
											<td style='word-wrap: break-word' th:text="*{fax}"></td>
											<td style='word-wrap: break-word' th:text="*{rank}">
												<input id="occupancy" name="occupancy" type="hidden" class="form-control" th:value="*{property_id}"/>
											</td>
											
										</tr>
							        </tbody>
								</table>		
							</div>
					    </div>
				  	</div>	
				</div>
			</div>
		</div> 
		
	</div>
</body>
</html>